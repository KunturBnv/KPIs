library("boot", lib.loc="C:/Program Files/R/R-3.5.1/library")
detach("package:boot", unload=TRUE)
library("boot", lib.loc="C:/Program Files/R/R-3.5.1/library")
detach("package:boot", unload=TRUE)
df <- read_excel(readxl_example("clippy.xlsx"), col_types = c("text", "list"))
df
df$value
sapply(df$value, class)
readxl_example("clippy.xlsx")
readxl_example("datasets.xlsx")
library(readxl)
readxl_example("datasets.xlsx")
readxl_example("clippy.xlsx")
df <- read_excel(readxl_example("clippy.xlsx"), col_types = c("text", "list"))
df
df$value
View(df)
sapply(df$value, class)
dataInExcel <- read_xlsx("GitProjects/KPIs/SortEq/database/BV PRD 10.07.2018.xlsx", col_types = "text")
View(dataInExcel)
read_xlsx2()
View(dataInExcel)
sapply(dataInExcel, class)
class(dataInExcel)
getwd()
#
setwd("GitProjects/KPIs/SortEq/")
dataInExcel <- read_xlsx("database/BV PRD 10.07.2018.xlsx", col_types = "text")
# change a categorical variable to numeric dummie variable
#getting data
dataIn <- read.csv2("database/dataIn.csv", na.strings = "0",stringsAsFactors = FALSE)
#
setwd("GitProjects/KPIs/SortEq/")
#
setwd("C:\Users\johan\Documents\GitProjects\KPIs\SortEq")
# change a categorical variable to numeric dummie variable
#getting data
dataIn <- read.csv2("database/dataIn.csv", na.strings = "0",stringsAsFactors = FALSE)
SortOf <- function(x,) {
x[is.na(x)] <- "0"
x[,5] <- "0"
x[,6] <- "0"
x[,7] <- "0"
x[,8] <- "0"
colnames(x)[5] <- "Eq.padre"
colnames(x)[6] <- "Sistema"
colnames(x)[7] <- "Comp"
colnames(x)[8] <- "aux"
#Equipo Padre E,T,V
x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),5] <- x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),2]
#Sistema F
x[x[,3]=="F",6] <- x[x[,3]=="F",2]
x[x[,3]=="F",5] <- x[x[,3]=="F",4]
#Comp R
x[,8] <- as.character(x[match(x[,4],x[,2]),3])
x[,9] <- as.character(x[match(x[,4],x[,2]),4])
x[is.na(x)] <- "0"
x[x[,3]=="R",7] <- x[x[,3]=="R",2]
x[x[,8]=="F",6] <- x[x[,8]=="F",4]
x[x[,8]=="F",5] <- x[x[,8]=="F",9]
x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V") ,5] <- x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V"),4]
x[x[,3]=="T" & x[,4]!="0",5] <- x[x[,3]=="T" & x[,4]!="0",4]
x[x[,3]=="T" & x[,4]!="0",7] <- x[x[,3]=="T" & x[,4]!="0",2]
x <- x[,1:7]
return <- x
}
SortOf <- function(x) {
x[is.na(x)] <- "0"
x[,5] <- "0"
x[,6] <- "0"
x[,7] <- "0"
x[,8] <- "0"
colnames(x)[5] <- "Eq.padre"
colnames(x)[6] <- "Sistema"
colnames(x)[7] <- "Comp"
colnames(x)[8] <- "aux"
#Equipo Padre E,T,V
x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),5] <- x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),2]
#Sistema F
x[x[,3]=="F",6] <- x[x[,3]=="F",2]
x[x[,3]=="F",5] <- x[x[,3]=="F",4]
#Comp R
x[,8] <- as.character(x[match(x[,4],x[,2]),3])
x[,9] <- as.character(x[match(x[,4],x[,2]),4])
x[is.na(x)] <- "0"
x[x[,3]=="R",7] <- x[x[,3]=="R",2]
x[x[,8]=="F",6] <- x[x[,8]=="F",4]
x[x[,8]=="F",5] <- x[x[,8]=="F",9]
x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V") ,5] <- x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V"),4]
x[x[,3]=="T" & x[,4]!="0",5] <- x[x[,3]=="T" & x[,4]!="0",4]
x[x[,3]=="T" & x[,4]!="0",7] <- x[x[,3]=="T" & x[,4]!="0",2]
x <- x[,1:7]
return <- x
}
dataOut <- SortOf(dataIn)
dataOut <- SortOf(dataIn)
# change a categorical variable to numeric dummie variable
#getting data
dataIn <- read.csv2("database/dataIn.csv", na.strings = "0",stringsAsFactors = FALSE)
# change a categorical variable to numeric dummie variable
#getting data
dataIn <- read.csv2("database/dataIn.csv", na.strings = "0",stringsAsFactors = FALSE)
SortOf <- function(x) {
x[is.na(x)] <- "0"
x[,5] <- "0"
x[,6] <- "0"
x[,7] <- "0"
x[,8] <- "0"
colnames(x)[5] <- "Eq.padre"
colnames(x)[6] <- "Sistema"
colnames(x)[7] <- "Comp"
colnames(x)[8] <- "aux"
#Equipo Padre E,T,V
x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),5] <- x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),2]
#Sistema F
x[x[,3]=="F",6] <- x[x[,3]=="F",2]
x[x[,3]=="F",5] <- x[x[,3]=="F",4]
#Comp R
x[,8] <- as.character(x[match(x[,4],x[,2]),3])
x[,9] <- as.character(x[match(x[,4],x[,2]),4])
x[is.na(x)] <- "0"
x[x[,3]=="R",7] <- x[x[,3]=="R",2]
x[x[,8]=="F",6] <- x[x[,8]=="F",4]
x[x[,8]=="F",5] <- x[x[,8]=="F",9]
x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V") ,5] <- x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V"),4]
x[x[,3]=="T" & x[,4]!="0",5] <- x[x[,3]=="T" & x[,4]!="0",4]
x[x[,3]=="T" & x[,4]!="0",7] <- x[x[,3]=="T" & x[,4]!="0",2]
x <- x[,1:7]
return <- x
}
dataOut <- SortOf(dataIn)
SortOf <- function(x) {
x[is.na(x)] <- "0"
x[,5] <- "0"
x[,6] <- "0"
x[,7] <- "0"
x[,8] <- "0"
colnames(x)[5] <- "Eq.padre"
colnames(x)[6] <- "Sistema"
colnames(x)[7] <- "Comp"
colnames(x)[8] <- "aux"
#Equipo Padre E,T,V
x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),5] <- x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),2]
#Sistema F
x[x[,3]=="F",6] <- x[x[,3]=="F",2]
x[x[,3]=="F",5] <- x[x[,3]=="F",4]
#Comp R
x[,8] <- as.character(x[match(x[,4],x[,2]),3])
x[,9] <- as.character(x[match(x[,4],x[,2]),4])
x[is.na(x)] <- "0"
#x[x[,3]=="R",7] <- x[x[,3]=="R",2]
#x[x[,8]=="F",6] <- x[x[,8]=="F",4]
#x[x[,8]=="F",5] <- x[x[,8]=="F",9]
#x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V") ,5] <- x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V"),4]
#x[x[,3]=="T" & x[,4]!="0",5] <- x[x[,3]=="T" & x[,4]!="0",4]
#x[x[,3]=="T" & x[,4]!="0",7] <- x[x[,3]=="T" & x[,4]!="0",2]
#x <- x[,1:7]
return <- x
}
dataOut <- SortOf(dataIn)
SortOf <- function(x) {
x[is.na(x)] <- "0"
x[,5] <- "0"
x[,6] <- "0"
x[,7] <- "0"
x[,8] <- "0"
colnames(x)[5] <- "Eq.padre"
colnames(x)[6] <- "Sistema"
colnames(x)[7] <- "Comp"
colnames(x)[8] <- "aux"
#Equipo Padre E,T,V
x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),5] <- x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),2]
#Sistema F
#x[x[,3]=="F",6] <- x[x[,3]=="F",2]
#x[x[,3]=="F",5] <- x[x[,3]=="F",4]
#Comp R
x[,8] <- as.character(x[match(x[,4],x[,2]),3])
x[,9] <- as.character(x[match(x[,4],x[,2]),4])
x[is.na(x)] <- "0"
#x[x[,3]=="R",7] <- x[x[,3]=="R",2]
#x[x[,8]=="F",6] <- x[x[,8]=="F",4]
#x[x[,8]=="F",5] <- x[x[,8]=="F",9]
#x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V") ,5] <- x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V"),4]
#x[x[,3]=="T" & x[,4]!="0",5] <- x[x[,3]=="T" & x[,4]!="0",4]
#x[x[,3]=="T" & x[,4]!="0",7] <- x[x[,3]=="T" & x[,4]!="0",2]
#x <- x[,1:7]
return <- x
}
dataOut <- SortOf(dataIn)
View(dataIn)
# change a categorical variable to numeric dummie variable
#getting data
dataIn <- read.csv("database/dataIn.csv", na.strings = "0",stringsAsFactors = FALSE)
SortOf <- function(x) {
x[is.na(x)] <- "0"
x[,5] <- "0"
x[,6] <- "0"
x[,7] <- "0"
x[,8] <- "0"
colnames(x)[5] <- "Eq.padre"
colnames(x)[6] <- "Sistema"
colnames(x)[7] <- "Comp"
colnames(x)[8] <- "aux"
#Equipo Padre E,T,V
x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),5] <- x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),2]
#Sistema F
#x[x[,3]=="F",6] <- x[x[,3]=="F",2]
#x[x[,3]=="F",5] <- x[x[,3]=="F",4]
#Comp R
x[,8] <- as.character(x[match(x[,4],x[,2]),3])
x[,9] <- as.character(x[match(x[,4],x[,2]),4])
x[is.na(x)] <- "0"
#x[x[,3]=="R",7] <- x[x[,3]=="R",2]
#x[x[,8]=="F",6] <- x[x[,8]=="F",4]
#x[x[,8]=="F",5] <- x[x[,8]=="F",9]
#x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V") ,5] <- x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V"),4]
#x[x[,3]=="T" & x[,4]!="0",5] <- x[x[,3]=="T" & x[,4]!="0",4]
#x[x[,3]=="T" & x[,4]!="0",7] <- x[x[,3]=="T" & x[,4]!="0",2]
#x <- x[,1:7]
return <- x
}
dataOut <- SortOf(dataIn)
SortOf <- function(x) {
x[is.na(x)] <- "0"
x[,5] <- "0"
x[,6] <- "0"
x[,7] <- "0"
x[,8] <- "0"
colnames(x)[5] <- "Eq.padre"
colnames(x)[6] <- "Sistema"
colnames(x)[7] <- "Comp"
colnames(x)[8] <- "aux"
#Equipo Padre E,T,V
x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),5] <- x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),2]
#Sistema F
#x[x[,3]=="F",6] <- x[x[,3]=="F",2]
#x[x[,3]=="F",5] <- x[x[,3]=="F",4]
#Comp R
x[,8] <- as.character(x[match(x[,4],x[,2]),3])
x[,9] <- as.character(x[match(x[,4],x[,2]),4])
x[is.na(x)] <- "0"
x[x[,3]=="R",7] <- x[x[,3]=="R",2]
x[x[,8]=="F",6] <- x[x[,8]=="F",4]
x[x[,8]=="F",5] <- x[x[,8]=="F",9]
x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V") ,5] <- x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V"),4]
x[x[,3]=="T" & x[,4]!="0",5] <- x[x[,3]=="T" & x[,4]!="0",4]
x[x[,3]=="T" & x[,4]!="0",7] <- x[x[,3]=="T" & x[,4]!="0",2]
x <- x[,1:7]
return <- x
}
dataOut <- SortOf(dataIn)
View(dataOut)
# change a categorical variable to numeric dummie variable
#getting data
dataIn <- read.csv("database/dataIn1.csv", na.strings = "0",stringsAsFactors = FALSE)
SortOf <- function(x) {
x[is.na(x)] <- "0"
x[,5] <- "0"
x[,6] <- "0"
x[,7] <- "0"
x[,8] <- "0"
colnames(x)[5] <- "Eq.padre"
colnames(x)[6] <- "Sistema"
colnames(x)[7] <- "Comp"
colnames(x)[8] <- "aux"
#Equipo Padre E,T,V
x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),5] <- x[x[,4] =="0" & (x[,3] =="E" | x[,3] =="V" | x[,3] =="T"),2]
#Sistema F
#x[x[,3]=="F",6] <- x[x[,3]=="F",2]
#x[x[,3]=="F",5] <- x[x[,3]=="F",4]
#Comp R
x[,8] <- as.character(x[match(x[,4],x[,2]),3])
x[,9] <- as.character(x[match(x[,4],x[,2]),4])
x[is.na(x)] <- "0"
x[x[,3]=="R",7] <- x[x[,3]=="R",2]
x[x[,8]=="F",6] <- x[x[,8]=="F",4]
x[x[,8]=="F",5] <- x[x[,8]=="F",9]
x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V") ,5] <- x[x[,3]=="R" & (x[,8]=="T" | x[,8]=="E" | x[,8]=="V"),4]
x[x[,3]=="T" & x[,4]!="0",5] <- x[x[,3]=="T" & x[,4]!="0",4]
x[x[,3]=="T" & x[,4]!="0",7] <- x[x[,3]=="T" & x[,4]!="0",2]
x <- x[,1:7]
return <- x
}
dataOut <- SortOf(dataIn)
write.csv2(dataOut,"dataOut1.CSV")
dataOut <- SortOf(dataIn1)
write.csv(dataOut,"dataOut1.CSV")
write.csv(dataOut,"database/dataOut1.CSV")
